<div class="container mt-4 d-flex flex-column align-items-center" data-controller="upload">
  <h1 class="mb-4 text-center">Users CSV Upload</h1>

  <button 
    type="button" 
    class="btn btn-primary mb-4" 
    data-bs-toggle="modal" 
    data-bs-target="#uploadModal"
  >
    Upload CSV
  </button>

  <div 
    data-upload-target="successMessage" 
    class="d-none text-success"
  ></div>

  <%= render 'modal_form', 
      modal_id: 'uploadModal', 
      modal_title: 'Upload CSV', 
      form_url: users_path, 
      form_model: :user 
  %>
</div>

<%= turbo_stream_from "users" %>

<div class="container mt-4">
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Created At</th>
      </tr>
    </thead>
    <tbody id="users">
      <%= render @users %>
    </tbody>
  </table>
</div>
